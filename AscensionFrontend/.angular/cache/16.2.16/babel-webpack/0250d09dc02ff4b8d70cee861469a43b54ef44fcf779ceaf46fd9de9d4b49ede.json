{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./components/patient-list/patient-list.component\";\nimport * as i5 from \"./components/smart-assistant/smart-assistant.component\";\nfunction AppComponent_header_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵelement(2, \"img\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 18);\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function AppComponent_header_0_div_15_Template_div_click_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵelement(5, \"i\", 20);\n    i0.ɵɵtext(6, \" Logout \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_header_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"header\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"div\", 7)(5, \"h1\", 8);\n    i0.ɵɵtext(6, \"Ascension\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h2\", 9);\n    i0.ɵɵtext(8, \"Nurse Handoff Tool\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 10)(10, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_header_0_Template_div_click_10_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.toggleProfileMenu());\n    });\n    i0.ɵɵelement(11, \"img\", 12);\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"span\", 13);\n    i0.ɵɵtemplate(15, AppComponent_header_0_div_15_Template, 7, 0, \"div\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(ctx_r0.currentUser == null ? null : ctx_r0.currentUser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showProfileMenu);\n  }\n}\nfunction AppComponent_ng_container_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelement(1, \"app-patient-list\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 21)(2, \"div\", 22);\n    i0.ɵɵtemplate(3, AppComponent_ng_container_2_div_3_Template, 2, 0, \"div\", 23);\n    i0.ɵɵelementStart(4, \"div\", 24);\n    i0.ɵɵelement(5, \"router-outlet\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 25);\n    i0.ɵɵelement(7, \"app-smart-assistant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isLoginPage && !ctx_r1.isHistoryPage && !ctx_r1.isPatientsListPage);\n  }\n}\nfunction AppComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"router-outlet\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"main-container\": a0,\n    \"login-container\": a1\n  };\n};\nlet AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(router, authService) {\n      this.router = router;\n      this.authService = authService;\n      this.title = 'Nurse Handoff Tool';\n      this.isLoggedIn = false;\n      this.isLoginPage = false;\n      this.isHistoryPage = false;\n      this.isPatientsListPage = false;\n      this.currentUser = null;\n      this.showProfileMenu = false;\n    }\n    ngOnInit() {\n      // Check login status on route changes\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => {\n        this.checkLoginStatus();\n      });\n      // Initial check\n      this.checkLoginStatus();\n      // Subscribe to auth changes\n      this.authService.currentUser.subscribe(user => {\n        this.currentUser = user;\n        this.isLoggedIn = !!user;\n      });\n    }\n    checkLoginStatus() {\n      this.isLoggedIn = this.authService.isLoggedIn();\n      this.isLoginPage = this.router.url.includes('/login');\n      this.isHistoryPage = this.router.url.includes('/history');\n      this.isPatientsListPage = this.router.url === '/patients';\n    }\n    toggleProfileMenu() {\n      this.showProfileMenu = !this.showProfileMenu;\n    }\n    viewProfile() {\n      // For demo purposes, we'll just close the menu\n      this.showProfileMenu = false;\n      // In a real app, you would navigate to the profile page\n      // this.router.navigate(['/profile']);\n    }\n\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n    // Close the dropdown when clicking outside\n    onDocumentClick(event) {\n      const target = event.target;\n      const userInfoElement = document.querySelector('.user-info');\n      if (userInfoElement && !userInfoElement.contains(target)) {\n        this.showProfileMenu = false;\n      }\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        hostBindings: function AppComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function AppComponent_click_HostBindingHandler($event) {\n              return ctx.onDocumentClick($event);\n            }, false, i0.ɵɵresolveDocument);\n          }\n        },\n        decls: 4,\n        vars: 7,\n        consts: [[\"class\", \"app-header\", 4, \"ngIf\"], [3, \"ngClass\"], [4, \"ngIf\"], [1, \"app-header\"], [1, \"header-left\"], [\"src\", \"assets/images/image.png\", \"alt\", \"Ascension Logo\", 1, \"header-logo\"], [1, \"header-titles\"], [1, \"title-container\"], [1, \"ascension-title\"], [1, \"tool-title\"], [1, \"header-right\"], [1, \"user-info\", 3, \"click\"], [\"src\", \"assets/images/user-avatar.png\", \"alt\", \"User\", 1, \"user-avatar\"], [1, \"dropdown-triangle\"], [\"class\", \"profile-dropdown\", 4, \"ngIf\"], [1, \"profile-dropdown\"], [1, \"dropdown-header\"], [\"src\", \"assets/images/user-avatar.png\", \"alt\", \"User\", 1, \"dropdown-avatar\"], [1, \"dropdown-divider\"], [1, \"dropdown-item\", 3, \"click\"], [1, \"fas\", \"fa-sign-out-alt\"], [1, \"content-area\"], [1, \"main-content\"], [\"class\", \"patient-selection-bar\", 4, \"ngIf\"], [1, \"router-content\"], [1, \"assistant-area\"], [1, \"patient-selection-bar\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, AppComponent_header_0_Template, 16, 2, \"header\", 0);\n            i0.ɵɵelementStart(1, \"main\", 1);\n            i0.ɵɵtemplate(2, AppComponent_ng_container_2_Template, 8, 1, \"ng-container\", 2);\n            i0.ɵɵtemplate(3, AppComponent_ng_container_3_Template, 2, 0, \"ng-container\", 2);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c0, ctx.isLoggedIn, !ctx.isLoggedIn));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgIf, i1.RouterOutlet, i4.PatientListComponent, i5.SmartAssistantComponent],\n        styles: [\".app-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--white);padding:10px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 5px #0000001a}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center}.header-logo[_ngcontent-%COMP%]{height:40px;margin-right:15px}.header-titles[_ngcontent-%COMP%], .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.ascension-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin:0 10px 0 0;line-height:1.2}.tool-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;margin:0;opacity:.9;position:relative;padding-left:12px}.tool-title[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;left:0;top:50%;transform:translateY(-50%);height:16px;width:1px;background-color:#fff9}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;position:relative;cursor:pointer;padding:8px 12px;border-radius:4px;transition:background-color .2s}.dropdown-triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid white;margin-left:2px}.user-info[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;background-color:var(--white);margin-right:8px}.profile-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:var(--white);border-radius:4px;box-shadow:0 4px 12px #00000026;min-width:220px;z-index:1000;margin-top:5px;font-size:.9rem}.dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 15px;background-color:var(--light-gray);border-top-left-radius:4px;border-top-right-radius:4px}.dropdown-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;margin-right:10px}.dropdown-user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dropdown-user-name[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color)}.dropdown-user-role[_ngcontent-%COMP%]{font-size:.8rem;color:var(--dark-gray);text-transform:capitalize}.dropdown-item[_ngcontent-%COMP%]{padding:8px 15px;color:var(--dark-gray);display:flex;align-items:center;gap:10px;cursor:pointer;transition:background-color .2s;font-size:.85rem}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:var(--light-gray)}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--light-gray);margin:3px 0;opacity:.7}.main-container[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 60px)}.login-container[_ngcontent-%COMP%]{min-height:100vh;width:100%}.content-area[_ngcontent-%COMP%]{flex:0 0 70%;display:flex;overflow:hidden;box-sizing:border-box}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.patient-selection-bar[_ngcontent-%COMP%]{background-color:var(--light-gray);border-bottom:1px solid var(--border-color);padding:12px 20px;display:flex;align-items:center}.router-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px}.assistant-area[_ngcontent-%COMP%]{flex:0 0 30%;background-color:var(--light-gray);border-left:1px solid var(--border-color);overflow-y:auto;box-sizing:border-box}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();\nexport { AppComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}